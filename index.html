<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èª¤å­—ãƒ­ãƒã®æ—¥è¨˜</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ“œ%3C/text%3E%3C/svg%3E" type="image/svg+xml">
    <style>
        body {
            font-family: "Yu Mincho", "Hiragino Mincho Pro", serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            position: relative;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .page-title {
            position: absolute;
            top: 20px;
            right: 20px;
            font-family: "Yu Mincho", "Hiragino Mincho Pro", serif;
            font-size: 18px;
            font-weight: bold;
            border: 1px solid #333;
            padding: 5px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.1s, color 0.1s, border-color 0.1s;
        }
        .page-title.flash {
            background-color: #000 !important;
            color: #ff0 !important;
            border-color: #ff0 !important;
        }
        .diary-container {
            display: flex;
            flex-direction: row;
            gap: 20px;
            width: 100%;
            max-height: 70vh;
            padding: 20px;
            overflow-x: auto;
            scroll-behavior: smooth;
            scrollbar-width: none;
            -ms-overflow-style: none;
            justify-content: flex-end;
        }
        .diary-container::-webkit-scrollbar {
            display: none;
        }
        .diary-entry {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            line-height: 2;
            letter-spacing: 0.1em;
            width: auto;
            white-space: normal;
            overflow: visible;
        }
        .date {
            font-weight: bold;
            font-size: 1.4em;
            margin-right: 20px;
        }
        .content {
            font-size: 1.3em;
            white-space: pre-line;
        }
        .char {
            transition: font-size 0.2s ease;
        }
        .char.hovered {
            font-size: 1.8em;
        }
    </style>
</head>
<body>
    <div class="page-title">èª¤å­—ãƒ­ãƒã®æ—¥è¨˜</div>
    <div class="diary-container" id="diaryContainer">
        <div class="diary-entry">
            <div class="date">åäºŒæœˆå…­æ—¥ï¼ˆåœŸï¼‰</div>
            <div class="content" id="content1">
                ä»Šæ—¥ã‚‚æœã‹ã‚‰æ™´ã‚Œæ¸¡ã£ãŸç©ºãŒåºƒãŒã£ã¦ã„ãŸã€‚æ•£æ­©ã«å‡ºã‚‹ã¨ã€å…¬åœ’ã®æœ¨ã€…ãŒç´…è‘‰ã—ã€é¢¨ã«æºã‚Œã‚‹æ§˜å­ãŒç¾ã—ã‹ã£ãŸã€‚ç§‹ã®æ·±ã¾ã‚Šã‚’æ„Ÿã˜ã‚‹ä¸€æ—¥ã ã£ãŸã€‚åˆå¾Œã¯ã‚«ãƒ•ã‚§ã§èª­æ›¸ã‚’ã—ã€æ¸©ã‹ã„ç´…èŒ¶ã‚’æ¥½ã—ã‚“ã ã€‚å¿ƒãŒè½ã¡ç€ãæ™‚é–“ã ã£ãŸã€‚
            </div>
        </div>
        <div class="diary-entry">
            <div class="date">åäºŒæœˆäº”æ—¥ï¼ˆé‡‘ï¼‰</div>
            <div class="content" id="content2">
                ä»•äº‹ãŒå¿™ã—ãã€ä¸€æ—¥ä¸­ãƒ‘ã‚½ã‚³ãƒ³ã¨å‘ãåˆã£ã¦ã„ãŸã€‚å¤•æ–¹ã€çª“ã‹ã‚‰è¦‹ãˆã‚‹å¤•ç„¼ã‘ãŒã¨ã¦ã‚‚ç¶ºéº—ã§ã€å°‘ã—ç–²ã‚ŒãŒå’Œã‚‰ã„ã ã€‚å¤œã¯æ¸©ã‹ã„é‹æ–™ç†ã‚’é£Ÿã¹ã€ã‚†ã£ãã‚Šã¨éã”ã—ãŸã€‚æ˜æ—¥ã‚‚é ‘å¼µã‚ã†ã¨æ€ã†ã€‚
            </div>
        </div>
        <div class="diary-entry">
            <div class="date">åäºŒæœˆå››æ—¥ï¼ˆæœ¨ï¼‰</div>
            <div class="content" id="content3">
                ä¹…ã—ã¶ã‚Šã«å‹äººã¨ä¼šã„ã€è¿‘æ³ã‚’è©±ã—åˆã£ãŸã€‚æ™‚é–“ãŒçµŒã¤ã®ã‚’å¿˜ã‚Œã‚‹ã»ã©æ¥½ã—ã‹ã£ãŸã€‚å¸°ã‚Šé“ã€è¡—ã®ã‚¤ãƒ«ãƒŸãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚­ãƒ©ã‚­ãƒ©ã¨è¼ã„ã¦ã„ã¦ã€ã‚¯ãƒªã‚¹ãƒã‚¹ã®æ°—åˆ†ãŒé«˜ã¾ã£ãŸã€‚å¯’ã•ã‚‚å¿ƒåœ°ã‚ˆãæ„Ÿã˜ã‚‰ã‚ŒãŸã€‚
            </div>
        </div>
    </div>
    <script>
        // ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã®å€™è£œ
        const themes = [
            { bg: "#e6f3ff", text: "#003366", border: "#003366" },
            { bg: "#fff8e6", text: "#8b4513", border: "#8b4513" },
            { bg: "#e6ffe6", text: "#2e8b57", border: "#2e8b57" },
            { bg: "#ffe6f0", text: "#8b008b", border: "#8b008b" },
            { bg: "#f0f0ff", text: "#4b0082", border: "#4b0082" },
            { bg: "#ffffe6", text: "#b8860b", border: "#b8860b" },
            { bg: "#e6ffff", text: "#0066cc", border: "#0066cc" },
            { bg: "#f0e6ff", text: "#800080", border: "#800080" },
            { bg: "#fff0e6", text: "#cd5c5c", border: "#cd5c5c" },
            { bg: "#f0ffe6", text: "#228b22", border: "#228b22" }
        ];

        let currentTheme = null;

        // ãƒ©ãƒ³ãƒ€ãƒ ã«ãƒ†ãƒ¼ãƒã‚’é¸æŠã—ã¦é©ç”¨
        function applyRandomTheme() {
            const randomTheme = themes[Math.floor(Math.random() * themes.length)];
            currentTheme = randomTheme;
            document.body.style.backgroundColor = randomTheme.bg;
            document.querySelector('.diary-container').style.backgroundColor = randomTheme.bg;
            document.querySelector('.page-title').style.backgroundColor = randomTheme.bg;
            document.querySelector('.page-title').style.borderColor = randomTheme.border;
            document.querySelector('.page-title').style.color = randomTheme.text;

            document.querySelectorAll('.date, .content').forEach(el => {
                el.style.color = randomTheme.text;
            });
        }

        // å³ä¸Šã‚¿ã‚¤ãƒˆãƒ«ã ã‘ã‚’ãƒ•ãƒ©ãƒƒã‚·ãƒ¥
        function flashTitle() {
            const title = document.querySelector('.page-title');
            title.classList.add('flash');
            setTimeout(() => {
                title.classList.remove('flash');
                setTimeout(() => {
                    title.classList.add('flash');
                    setTimeout(() => {
                        title.classList.remove('flash');
                        // ãƒ•ãƒ©ãƒƒã‚·ãƒ¥å¾Œã€ç¾åœ¨ã®ãƒ†ãƒ¼ãƒã®è‰²ã‚’å†é©ç”¨
                        if (currentTheme) {
                            title.style.backgroundColor = currentTheme.bg;
                            title.style.color = currentTheme.text;
                            title.style.borderColor = currentTheme.border;
                        }
                    }, 100);
                }, 100);
            }, 100);
        }

        // åˆå›ãƒ†ãƒ¼ãƒé©ç”¨
        applyRandomTheme();

        // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
        document.body.style.opacity = 1;

        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å³ç«¯ã«è¨­å®š
        window.addEventListener('load', function() {
            const container = document.getElementById('diaryContainer');
            container.scrollLeft = container.scrollWidth;
        });

        // ã‚¿ã‚¤ãƒˆãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ãƒ•ãƒ©ãƒƒã‚·ãƒ¥â†’ãƒ†ãƒ¼ãƒå¤‰æ›´
        document.querySelector('.page-title').addEventListener('click', () => {
            applyRandomTheme();
                      flashTitle();

        });

        // æœ¬æ–‡ã®æ–‡å­—ã‚’1æ–‡å­—ãšã¤spanã§ãƒ©ãƒƒãƒ—
        function wrapChars() {
            document.querySelectorAll('.content').forEach(content => {
                const text = content.textContent;
                let wrapped = '';
                for (let i = 0; i < text.length; i++) {
                    wrapped += `<span class="char">${text[i]}</span>`;
                }
                content.innerHTML = wrapped;
            });
        }

        // æ–‡å­—ã‚’ãƒ©ãƒƒãƒ—
        wrapChars();

        // ãƒ›ãƒãƒ¼æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        document.querySelectorAll('.content').forEach(content => {
            content.addEventListener('mousemove', (e) => {
                const chars = content.querySelectorAll('.char');
                const targetChar = document.elementFromPoint(e.clientX, e.clientY);
                if (!targetChar || !targetChar.classList.contains('char')) return;

                const index = Array.from(chars).indexOf(targetChar);
                const start = Math.max(0, index - 5);
                const end = Math.min(chars.length - 1, index + 5);

                chars.forEach((char, i) => {
                    if (i >= start && i <= end) {
                        char.classList.add('hovered');
                    } else {
                        char.classList.remove('hovered');
                    }
                });
            });

            content.addEventListener('mouseleave', () => {
                content.querySelectorAll('.char').forEach(char => {
                    char.classList.remove('hovered');
                });
            });
        });
    </script>
</body>
</html>
